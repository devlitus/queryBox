---
const tabs = [
	{ id: "params", label: "Params", count: 2 },
	{ id: "auth", label: "Authorization" },
	{ id: "headers", label: "Headers", count: 3 },
	{ id: "body", label: "Body" },
	{ id: "pre-request", label: "Pre-request Script" },
	{ id: "tests", label: "Tests" },
	{ id: "settings", label: "Settings" },
];
---

<pm-tabs class="block">
	<div class="flex items-center border-b border-pm-border px-4" role="tablist">
		{tabs.map((tab, index) => (
			<button
				type="button"
				class={`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${
					index === 0
						? "text-pm-text-primary border-pm-accent active"
						: "text-pm-text-secondary hover:text-pm-text-primary border-transparent"
				}`}
				role="tab"
				data-tab={tab.id}
				aria-selected={index === 0 ? "true" : "false"}
				aria-controls={`tabpanel-${tab.id}`}
				tabindex={index === 0 ? "0" : "-1"}
			>
				{tab.label}
				{tab.count && (
					<span class="ml-1 text-xs text-pm-text-tertiary">({tab.count})</span>
				)}
			</button>
		))}
	</div>

	<slot />
</pm-tabs>

<script>
	import "../../scripts/tabs.ts";
</script>

<style>
	button[data-tab].active {
		color: var(--color-pm-text-primary);
		border-color: var(--color-pm-accent);
	}
</style>
