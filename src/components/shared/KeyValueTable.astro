---
import KeyValueRow from "./KeyValueRow.astro";

interface KeyValueItem {
	key: string;
	value: string;
	description?: string;
	enabled: boolean;
}

interface Props {
	items: KeyValueItem[];
	showDescription?: boolean;
}

const { items, showDescription = true } = Astro.props;
---

<div class="bg-pm-bg-tertiary rounded">
	<!-- Header -->
	<div class={`grid gap-2 px-2 py-2 border-b border-pm-border-subtle ${showDescription ? "grid-cols-[auto_2fr_2fr_3fr]" : "grid-cols-[auto_1fr_1fr]"}`}>
		<div></div>
		<div class="text-xs font-semibold text-pm-text-secondary uppercase px-1">Key</div>
		<div class="text-xs font-semibold text-pm-text-secondary uppercase px-1">Value</div>
		{showDescription && (
			<div class="text-xs font-semibold text-pm-text-secondary uppercase px-1">Description</div>
		)}
	</div>

	<!-- Rows -->
	<div>
		{items.map((item) => (
			<KeyValueRow
				keyName={item.key}
				value={item.value}
				description={item.description}
				enabled={item.enabled}
				showDescription={showDescription}
			/>
		))}
		<!-- Placeholder row -->
		<KeyValueRow isPlaceholder={true} showDescription={showDescription} />
	</div>
</div>
