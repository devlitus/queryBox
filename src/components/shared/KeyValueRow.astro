---
interface Props {
	keyName?: string;
	value?: string;
	description?: string;
	enabled?: boolean;
	isPlaceholder?: boolean;
	showDescription?: boolean;
}

const {
	keyName = "",
	value = "",
	description = "",
	enabled = true,
	isPlaceholder = false,
	showDescription = true,
} = Astro.props;
---

<div
	class={`grid gap-2 py-2 px-2 ${showDescription ? "grid-cols-[auto_2fr_2fr_3fr]" : "grid-cols-[auto_1fr_1fr]"} hover:bg-pm-bg-secondary transition-colors`}
	aria-label={isPlaceholder ? "Add new row" : undefined}
>
	<input
		type="checkbox"
		checked={enabled}
		class="mt-1"
		disabled={isPlaceholder}
		aria-label={isPlaceholder ? "Enable new row" : "Enable row"}
	/>
	<input
		type="text"
		value={keyName}
		placeholder={isPlaceholder ? "New key" : ""}
		class="bg-transparent border-b border-pm-border-subtle focus:border-pm-accent focus:outline-none text-sm text-pm-text-primary placeholder:text-pm-text-tertiary px-1"
		aria-label={isPlaceholder ? "New key" : "Key"}
	/>
	<input
		type="text"
		value={value}
		placeholder={isPlaceholder ? "New value" : ""}
		class="bg-transparent border-b border-pm-border-subtle focus:border-pm-accent focus:outline-none text-sm text-pm-text-primary placeholder:text-pm-text-tertiary px-1"
		aria-label={isPlaceholder ? "New value" : "Value"}
	/>
	{showDescription && (
		<input
			type="text"
			value={description}
			placeholder={isPlaceholder ? "New description" : ""}
			class="bg-transparent border-b border-pm-border-subtle focus:border-pm-accent focus:outline-none text-sm text-pm-text-secondary placeholder:text-pm-text-tertiary px-1"
			aria-label={isPlaceholder ? "New description" : "Description"}
		/>
	)}
</div>
