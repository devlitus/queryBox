---
import type { HttpMethod } from "../../types/http";
import Badge from "../shared/Badge.astro";
import closeIcon from "../../assets/icons/close.svg?raw";

interface Props {
	method?: HttpMethod;
	name: string;
	isActive?: boolean;
	isModified?: boolean;
}

const { method, name, isActive = false, isModified = false } = Astro.props;
---

<div
	class={`
		flex items-center gap-2 px-3 py-2 border-r border-pm-border cursor-pointer transition-colors
		${isActive ? "bg-pm-bg-primary border-b-2 border-b-pm-accent" : "bg-pm-bg-secondary hover:bg-pm-bg-elevated"}
	`}
>
	{method && <Badge text={method} variant="method" />}
	<span class="text-sm text-pm-text-primary">{name}</span>
	{isModified && (
		<div class="w-1.5 h-1.5 rounded-full bg-pm-accent" aria-label="Modified" />
	)}
	<button
		type="button"
		class="w-4 h-4 ml-2 text-pm-text-secondary hover:text-pm-text-primary transition-colors"
		aria-label="Close tab"
	>
		<Fragment set:html={closeIcon} />
	</button>
</div>
